SELECT exec_sql('CREATE TABLE IF NOT EXISTS public.invitations (id UUID PRIMARY KEY DEFAULT gen_random_uuid(), organization_id UUID REFERENCES public.organizations(id) ON DELETE CASCADE, email TEXT NOT NULL, role TEXT NOT NULL DEFAULT ''participant'', token TEXT UNIQUE DEFAULT encode(gen_random_bytes(32), ''hex''), invited_by UUID REFERENCES auth.users(id) ON DELETE SET NULL, status TEXT DEFAULT ''pending'', expires_at TIMESTAMP WITH TIME ZONE DEFAULT (NOW() + INTERVAL ''7 days''), created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(), updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW());');